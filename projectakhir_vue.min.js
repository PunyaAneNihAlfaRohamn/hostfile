var konfirmasiPembayaran = new Vue({
    el: '#modal-konfirmasi-pembayaran',
    data: {
        namaBuktiTransfer: null
    },
    created() {},
    methods: {
        uploadImageBukti() {
            let self = this;
            let file = this.$refs.imageBukti;
            if (file.files && file.files[0]) {
                self.namaBuktiTransfer = file.files[0].name;
                var reader = new FileReader();
                reader.onload = function (e) {
                    let result = e.target.result;
                    self.$refs.imageBuktiVal.value = result.replace(/^data:image\/[a-z]+;base64,/, "");
                };
                $('#textUploadBukti').html('Ganti Bukti Transfer');
                reader.readAsDataURL(file.files[0]);
            } else {
                $('#textUploadBukti').html('Upload Bukti Transfer');
            }
        },
        showModalKonfirmasiPembayaran() {
            $('.preload').fadeIn();
            $('#modalPembayaranKonfirmasiPembayaran').modal({
                fadeDuration: 250,
                escapeClose: false,
                clickClose: false
            });
            setTimeout(() => {
                $('.preload').fadeOut();
            }, 200);
        },
        konfirmasiPembayaran(val = null) {
            $('.preload').fadeIn();
            const data = $('.form-konfirmasi-pembayaran').serialize();
            const url = 'registrasi/send-konfirmasi';
            axios.post(baseApiUrl + url, data).then((resp) => {
                const result = resp.data;
                const message = result.api_message;
                if (result.api_status === 1) {
                    $('#modalPembayaranKonfirmasiPembayaran .close-modal ').click();
                    $('#modalPembayaranLast').modal({
                        fadeDuration: 250,
                        escapeClose: false,
                        clickClose: false
                    });
                    $('.form-konfirmasi-pembayaran').trigger("reset");
                    setTimeout(() => {
                        $('.preload').fadeOut();
                    }, 200)
                } else {
                    $('.modalCobaGratisFailed #erorMessageRequest').html(message);
                    setTimeout(() => {
                        $('.preload').fadeOut();
                        $('#modalCobaGratisFailed').modal({
                            fadeDuration: 250,
                            escapeClose: false,
                            clickClose: false
                        });
                    }, 200);
                }
            }).catch((e) => {
                console.log(e);
                $('.modalCobaGratisFailed #erorMessageRequest').html(e);
                setTimeout(() => {
                    $('.preload').fadeOut();
                    $('#modalCobaGratisFailed').modal({
                        fadeDuration: 250,
                        escapeClose: false,
                        clickClose: false
                    });
                }, 200)
            });
        },
    }
})
var rootRepromeApps = new Vue({
    el: '#mainNavbar',
    data: {},
    created() {},
    methods: {
        postTrackingCobaGratis(klikdemo, isiemail, email) {
            const data = {
                url: currentLoction,
                ip: ipAddress,
                klikdemo: klikdemo,
                isiemail: isiemail,
                email: email
            };
            const url = 'tracking/coba-gratis';
            axios.post(baseApiUrl + url, data).then((resp) => {}).catch((e) => {
                console.log(e);
            });
        }
    }
})
var rootRepromeAppsCobaGratis = new Vue({
    el: '.areaButtonCobaGratis',
    data: {},
    created() {},
    methods: {
        postTrackingCobaGratis(klikdemo, isiemail, email) {
            const data = {
                url: currentLoction,
                ip: ipAddress,
                klikdemo: klikdemo,
                isiemail: isiemail,
                email: email
            };
            const url = 'tracking/coba-gratis';
            axios.post(baseApiUrl + url, data).then((resp) => {}).catch((e) => {
                console.log(e);
            });
        }
    }
})